import{j as b}from"./jsx-runtime.D_zvdyIk.js";import{g as Ge,R as M,r as u}from"./index.2yJIXLcc.js";import{N as Ie,H as We,a as Je}from"./navigation.LAMnNzb3.js";import{r as Ke}from"./index.CXtDRhHU.js";import{r as Qe}from"./index.Chjiymov.js";/* empty css                       */import{g as et,i as tt,f as st,n as U,h as G,S as De,a as Pe}from"./swiper-react.BFlPC93w.js";import"./iconBase.Blz05Vck.js";function Ce(x){let{swiper:e,extendParams:w,on:d}=x;w({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let h=!1,S=!1;e.thumbs={swiper:null};function I(){const a=e.thumbs.swiper;if(!a||a.destroyed)return;const t=a.clickedIndex,m=a.clickedSlide;if(m&&m.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof t>"u"||t===null)return;let f;a.params.loop?f=parseInt(a.clickedSlide.getAttribute("data-swiper-slide-index"),10):f=t,e.params.loop?e.slideToLoop(f):e.slideTo(f)}function T(){const{thumbs:a}=e.params;if(h)return!1;h=!0;const t=e.constructor;if(a.swiper instanceof t){if(a.swiper.destroyed)return h=!1,!1;e.thumbs.swiper=a.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(tt(a.swiper)){const m=Object.assign({},a.swiper);Object.assign(m,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new t(m),S=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",I),!0}function c(a){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const m=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():t.params.slidesPerView;let f=1;const p=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(f=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(f=1),f=Math.floor(f),t.slides.forEach(v=>v.classList.remove(p)),t.params.loop||t.params.virtual&&t.params.virtual.enabled)for(let v=0;v<f;v+=1)st(t.slidesEl,`[data-swiper-slide-index="${e.realIndex+v}"]`).forEach(r=>{r.classList.add(p)});else for(let v=0;v<f;v+=1)t.slides[e.realIndex+v]&&t.slides[e.realIndex+v].classList.add(p);const g=e.params.thumbs.autoScrollOffset,O=g&&!t.params.loop;if(e.realIndex!==t.realIndex||O){const v=t.activeIndex;let r,D;if(t.params.loop){const o=t.slides.find(z=>z.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);r=t.slides.indexOf(o),D=e.activeIndex>e.previousIndex?"next":"prev"}else r=e.realIndex,D=r>e.previousIndex?"next":"prev";O&&(r+=D==="next"?g:-1*g),t.visibleSlidesIndexes&&t.visibleSlidesIndexes.indexOf(r)<0&&(t.params.centeredSlides?r>v?r=r-Math.floor(m/2)+1:r=r+Math.floor(m/2)-1:r>v&&t.params.slidesPerGroup,t.slideTo(r,a?0:void 0))}}d("beforeInit",()=>{const{thumbs:a}=e.params;if(!(!a||!a.swiper))if(typeof a.swiper=="string"||a.swiper instanceof HTMLElement){const t=et(),m=()=>{const p=typeof a.swiper=="string"?t.querySelector(a.swiper):a.swiper;if(p&&p.swiper)a.swiper=p.swiper,T(),c(!0);else if(p){const g=`${e.params.eventsPrefix}init`,O=v=>{a.swiper=v.detail[0],p.removeEventListener(g,O),T(),c(!0),a.swiper.update(),e.update()};p.addEventListener(g,O)}return p},f=()=>{if(e.destroyed)return;m()||requestAnimationFrame(f)};requestAnimationFrame(f)}else T(),c(!0)}),d("slideChange update resize observerUpdate",()=>{c()}),d("setTransition",(a,t)=>{const m=e.thumbs.swiper;!m||m.destroyed||m.setTransition(t)}),d("beforeDestroy",()=>{const a=e.thumbs.swiper;!a||a.destroyed||S&&a.destroy()}),Object.assign(e.thumbs,{init:T,update:c})}function ze(x){let{swiper:e,extendParams:w,emit:d,once:h}=x;w({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function S(){if(e.params.cssMode)return;const c=e.getTranslate();e.setTranslate(c),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function I(){if(e.params.cssMode)return;const{touchEventsData:c,touches:a}=e;c.velocities.length===0&&c.velocities.push({position:a[e.isHorizontal()?"startX":"startY"],time:c.touchStartTime}),c.velocities.push({position:a[e.isHorizontal()?"currentX":"currentY"],time:U()})}function T(c){let{currentPos:a}=c;if(e.params.cssMode)return;const{params:t,wrapperEl:m,rtlTranslate:f,snapGrid:p,touchEventsData:g}=e,v=U()-g.touchStartTime;if(a<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(a>-e.maxTranslate()){e.slides.length<p.length?e.slideTo(p.length-1):e.slideTo(e.slides.length-1);return}if(t.freeMode.momentum){if(g.velocities.length>1){const E=g.velocities.pop(),P=g.velocities.pop(),X=E.position-P.position,R=E.time-P.time;e.velocity=X/R,e.velocity/=2,Math.abs(e.velocity)<t.freeMode.minimumVelocity&&(e.velocity=0),(R>150||U()-E.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=t.freeMode.momentumVelocityRatio,g.velocities.length=0;let r=1e3*t.freeMode.momentumRatio;const D=e.velocity*r;let o=e.translate+D;f&&(o=-o);let z=!1,C;const N=Math.abs(e.velocity)*20*t.freeMode.momentumBounceRatio;let _;if(o<e.maxTranslate())t.freeMode.momentumBounce?(o+e.maxTranslate()<-N&&(o=e.maxTranslate()-N),C=e.maxTranslate(),z=!0,g.allowMomentumBounce=!0):o=e.maxTranslate(),t.loop&&t.centeredSlides&&(_=!0);else if(o>e.minTranslate())t.freeMode.momentumBounce?(o-e.minTranslate()>N&&(o=e.minTranslate()+N),C=e.minTranslate(),z=!0,g.allowMomentumBounce=!0):o=e.minTranslate(),t.loop&&t.centeredSlides&&(_=!0);else if(t.freeMode.sticky){let E;for(let P=0;P<p.length;P+=1)if(p[P]>-o){E=P;break}Math.abs(p[E]-o)<Math.abs(p[E-1]-o)||e.swipeDirection==="next"?o=p[E]:o=p[E-1],o=-o}if(_&&h("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(f?r=Math.abs((-o-e.translate)/e.velocity):r=Math.abs((o-e.translate)/e.velocity),t.freeMode.sticky){const E=Math.abs((f?-o:o)-e.translate),P=e.slidesSizesGrid[e.activeIndex];E<P?r=t.speed:E<2*P?r=t.speed*1.5:r=t.speed*2.5}}else if(t.freeMode.sticky){e.slideToClosest();return}t.freeMode.momentumBounce&&z?(e.updateProgress(C),e.setTransition(r),e.setTranslate(o),e.transitionStart(!0,e.swipeDirection),e.animating=!0,G(m,()=>{!e||e.destroyed||!g.allowMomentumBounce||(d("momentumBounce"),e.setTransition(t.speed),setTimeout(()=>{e.setTranslate(C),G(m,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(d("_freeModeNoMomentumRelease"),e.updateProgress(o),e.setTransition(r),e.setTranslate(o),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,G(m,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(o),e.updateActiveIndex(),e.updateSlidesClasses()}else if(t.freeMode.sticky){e.slideToClosest();return}else t.freeMode&&d("_freeModeNoMomentumRelease");(!t.freeMode.momentum||v>=t.longSwipesMs)&&(d("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:S,onTouchMove:I,onTouchEnd:T}})}var rt=Qe();const at=Ge(rt);function H(){return H=Object.assign||function(x){for(var e=1;e<arguments.length;e++){var w=arguments[e];for(var d in w)Object.prototype.hasOwnProperty.call(w,d)&&(x[d]=w[d])}return x},H.apply(this,arguments)}var ke=function(e){var w=e.src,d=e.sources,h=e.width,S=e.height,I=e.hasSpacer,T=e.imgAttributes,c=e.isZoomed,a=e.fadeDuration,t=h&&S&&I;return M.createElement("div",{style:{paddingTop:t?S/h*100+"%":null}},d&&d.length>0?M.createElement("picture",null,d.map(function(m,f){return M.createElement(u.Fragment,{key:f},m.srcSet&&M.createElement("source",m))}),M.createElement("img",H({},T,{className:"iiz__img "+(T.className||"")+" "+(c?"iiz__img--hidden":"")+" "+(t?"iiz__img--abs":""),style:{transition:"opacity 0ms linear "+(c?a:0)+"ms, visibility 0ms linear "+(c?a:0)+"ms"},src:w,width:h,height:S}))):M.createElement("img",H({},T,{className:"iiz__img "+(T.className||"")+" "+(c?"iiz__img--hidden":"")+" "+(t?"iiz__img--abs":""),style:{transition:"opacity 0ms linear "+(c?a:0)+"ms, visibility 0ms linear "+(c?a:0)+"ms"},src:w,width:h,height:S})))};ke.propTypes={};var W=function(e){var w=e.src,d=e.fadeDuration,h=e.top,S=e.left,I=e.isZoomed,T=e.onLoad,c=e.onDragStart,a=e.onDragEnd,t=e.onClose,m=e.onFadeOut;return M.createElement(u.Fragment,null,M.createElement("img",{className:"iiz__zoom-img "+(I?"iiz__zoom-img--visible":""),style:{top:h,left:S,transition:"opacity "+d+"ms linear, visibility "+d+"ms linear"},src:w,onLoad:T,onTouchStart:c,onTouchEnd:a,onMouseDown:c,onMouseUp:a,onTransitionEnd:m,draggable:"false",alt:""}),t&&M.createElement("button",{className:"iiz__btn iiz__close "+(I?"iiz__close--visible":""),style:{transition:"opacity "+d+"ms linear, visibility "+d+"ms linear"},onClick:t,"aria-label":"Zoom Out"}))};W.propTypes={};var nt=Ke(),Oe=function(e){var w=e.children,d=u.useState(function(){var S=document.createElement("div");return S.classList.add("iiz__zoom-portal"),S}),h=d[0];return u.useEffect(function(){return document.body.appendChild(h),function(){return document.body.removeChild(h)}},[h]),nt.createPortal(w,h)};Oe.propTypes={children:at.element};var it=void 0,Le=function(e){var w=e.moveType,d=w===void 0?"pan":w,h=e.zoomType,S=h===void 0?"click":h,I=e.src,T=e.sources,c=e.width,a=e.height,t=e.hasSpacer,m=e.imgAttributes,f=m===void 0?{}:m,p=e.zoomSrc,g=e.zoomScale,O=g===void 0?1:g,v=e.zoomPreload,r=e.fadeDuration,D=r===void 0?150:r,o=e.fullscreenOnMobile,z=e.mobileBreakpoint,C=z===void 0?640:z,N=e.hideCloseButton,_=e.hideHint,E=e.className,P=e.afterZoomIn,X=e.afterZoomOut,R=u.useRef(null),k=u.useRef(null),n=u.useRef({}),J=u.useState(v),je=J[0],Y=J[1],K=u.useState(!1),L=K[0],Q=K[1],ee=u.useState(!1),j=ee[0],te=ee[1],se=u.useState(!1),B=se[0],re=se[1],ae=u.useState(!1),ne=ae[0],ie=ae[1],oe=u.useState(!1),Ae=oe[0],Ne=oe[1],le=u.useState(!1),Re=le[0],V=le[1],ue=u.useState(d),F=ue[0],de=ue[1],ce=u.useState(0),Fe=ce[0],me=ce[1],pe=u.useState(0),Be=pe[0],fe=pe[1],_e=function(s){Y(!0),V(!1),S==="hover"&&!j&&he(s)},Xe=function(){Q(!0),re(Me(o,C)),de("drag")},he=function(s){if(j){L?N&&$(s):!Ae&&Se();return}L&&Y(!0),k.current?(ge({target:k.current}),xe(s.pageX,s.pageY)):n.current.onLoadCallback=xe.bind(it,s.pageX,s.pageY)},ge=function(s){var i=qe(s.target,O);k.current=s.target,k.current.setAttribute("width",i.width),k.current.setAttribute("height",i.height),n.current.scaledDimensions=i,n.current.bounds=ye(R.current,!1),n.current.ratios=$e(n.current.bounds,i),n.current.onLoadCallback&&(n.current.onLoadCallback(),n.current.onLoadCallback=null)},ve=function(s){var i=s.pageX-n.current.offsets.x,y=s.pageY-n.current.offsets.y;i=Math.max(Math.min(i,n.current.bounds.width),0),y=Math.max(Math.min(y,n.current.bounds.height),0),me(i*-n.current.ratios.x),fe(y*-n.current.ratios.y)},Ye=function(s){var i=typeof s.pageX=="number"?s.pageX:s.changedTouches[0].pageX,y=typeof s.pageY=="number"?s.pageY:s.changedTouches[0].pageY;n.current.offsets=q(i,y,k.current.offsetLeft,k.current.offsetTop),ie(!0),L||(n.current.eventPosition={x:s.pageX,y:s.pageY})},Z=u.useCallback(function(l){l.stopPropagation();var s=typeof l.pageX=="number"?l.pageX:l.changedTouches[0].pageX,i=typeof l.pageY=="number"?l.pageY:l.changedTouches[0].pageY,y=s-n.current.offsets.x,A=i-n.current.offsets.y;y=Math.max(Math.min(y,0),(n.current.scaledDimensions.width-n.current.bounds.width)*-1),A=Math.max(Math.min(A,0),(n.current.scaledDimensions.height-n.current.bounds.height)*-1),me(y),fe(A)},[]),be=function(s){if(ie(!1),!L){var i=Math.abs(s.pageX-n.current.eventPosition.x),y=Math.abs(s.pageY-n.current.eventPosition.y);Ne(i>5||y>5)}},Ze=function(s){F==="drag"&&j?be(s):$(s)},$=function(s){!L&&s.target.classList.contains("iiz__close")||(!j||B||!D?we({},!0):V(!0)),Se()},we=function(s,i){(i||s.propertyName==="opacity"&&R.current.contains(s.target))&&((v&&L||!v)&&(k.current=null,n.current=Te(),Y(!1)),Q(!1),re(!1),de(d),V(!1))},He=function(s,i){n.current.offsets=q(window.pageXOffset,window.pageYOffset,-n.current.bounds.left,-n.current.bounds.top),ve({pageX:s,pageY:i})},Ve=function(s,i){var y=(s-(window.pageXOffset+n.current.bounds.left))*-n.current.ratios.x,A=(i-(window.pageYOffset+n.current.bounds.top))*-n.current.ratios.y;y=y+(B?(window.innerWidth-n.current.bounds.width)/2:0),A=A+(B?(window.innerHeight-n.current.bounds.height)/2:0),n.current.bounds=ye(R.current,B),n.current.offsets=q(0,0,0,0),Z({changedTouches:[{pageX:y,pageY:A}],preventDefault:function(){},stopPropagation:function(){}})},xe=function(s,i){te(!0),F==="drag"?Ve(s,i):He(s,i),P&&P()},Se=function(){te(!1),X&&X()},Te=function(){return{onLoadCallback:null,bounds:{},offsets:{},ratios:{},eventPosition:{},scaledDimensions:{}}},ye=function(s,i){return i?{width:window.innerWidth,height:window.innerHeight,left:0,top:0}:s.getBoundingClientRect()},q=function(s,i,y,A){return{x:s-y,y:i-A}},$e=function(s,i){return{x:(i.width-s.width)/s.width,y:(i.height-s.height)/s.height}},Me=function(s,i){return s&&window.matchMedia&&window.matchMedia("(max-width: "+i+"px)").matches},qe=function(s,i){return{width:s.naturalWidth*i,height:s.naturalHeight*i}},Ee={src:p||I,fadeDuration:B?0:D,top:Be,left:Fe,isZoomed:j,onLoad:ge,onDragStart:F==="drag"?Ye:null,onDragEnd:F==="drag"?be:null,onClose:!N&&F==="drag"?$:null,onFadeOut:Re?we:null};return u.useEffect(function(){n.current=Te()},[]),u.useEffect(function(){Me(o,C)&&Y(!1)},[o,C]),u.useEffect(function(){if(k.current){var l=L?"touchmove":"mousemove";ne?k.current.addEventListener(l,Z,{passive:!0}):k.current.removeEventListener(l,Z)}},[ne,L,Z]),M.createElement("figure",{className:"iiz "+(F==="drag"?"iiz--drag":"")+" "+(E||""),style:{width:c},ref:R,onTouchStart:j?null:Xe,onClick:he,onMouseEnter:L?null:_e,onMouseMove:F==="drag"||!j?null:ve,onMouseLeave:L?null:Ze},M.createElement(ke,{src:I,sources:T,width:c,height:a,hasSpacer:t,imgAttributes:f,fadeDuration:D,isZoomed:j}),je&&M.createElement(u.Fragment,null,B?M.createElement(Oe,null,M.createElement(W,Ee)):M.createElement(W,Ee)),!_&&!j&&M.createElement("span",{className:"iiz__btn iiz__hint"}))};Le.propTypes={};const ot=()=>b.jsx("div",{className:"row justify-center",children:b.jsxs("div",{children:[b.jsx("div",{className:"h-[323px] md:h-[623px] rounded-md animate-pulse bg-neutral-200 dark:bg-neutral-700 mb-4"}),b.jsx("div",{className:"grid grid-cols-4 gap-x-4",children:Array(4).fill(0).map((x,e)=>b.jsx("div",{className:"h-[80px] md:h-[146px] rounded-md animate-pulse bg-neutral-200 dark:bg-neutral-700"},e))})]})}),gt=({images:x})=>{const[e,w]=u.useState(null),[d,h]=u.useState(0),[S,I]=u.useState(!1),[T,c]=u.useState(!0),[a,t]=u.useState(x.length>0?x[0].url:""),m=u.useRef(null),f=u.useRef(null),p=x.map(r=>r.altText),g=x.filter(r=>r.altText===p[d]);u.useEffect(()=>{const r=()=>{const z=new URLSearchParams(window.location.search).get("color");if(z){const C=p.indexOf(z);C!==-1&&(h(C),t(x[C].url))}c(!1)};r(),window.addEventListener("popstate",r);const D=setInterval(()=>{r()},500);return()=>{window.removeEventListener("popstate",r),clearInterval(D)}},[p,x]);const O=r=>{h(r.activeIndex),t(g[r.activeIndex]?.url)},v=r=>{const D=g.findIndex(o=>o.url===r);D!==-1&&(h(D),t(r))};return T?b.jsx(ot,{}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"relative",onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),children:b.jsxs(De,{spaceBetween:10,thumbs:{swiper:e},modules:[ze,Ie,Ce],navigation:{prevEl:m.current,nextEl:f.current},onSlideChange:O,children:[g.map(r=>b.jsx(Pe,{children:b.jsx(Le,{src:r.url,zoomSrc:r.url,width:722,height:623,zoomType:"hover",className:"mb-6 border border-border dark:border-border/40 rounded-md max-h-[623px]"})},r.url)),b.jsxs("div",{className:`hidden lg:block w-full absolute top-1/2 -translate-y-1/2 z-10 px-6 text-text-dark ${S?"opacity-100 transition-opacity duration-300 ease-in-out":"opacity-0 transition-opacity duration-300 ease-in-out"}`,children:[b.jsx("div",{ref:m,className:"p-2 lg:p-4 rounded-md bg-body cursor-pointer shadow-sm absolute left-4",children:b.jsx(We,{size:24})}),b.jsx("div",{ref:f,className:"p-2 lg:p-4 rounded-md bg-body cursor-pointer shadow-sm absolute right-4",children:b.jsx(Je,{size:24})})]})]})}),b.jsx(De,{onSwiper:w,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[ze,Ie,Ce],children:g.map(r=>b.jsx(Pe,{children:b.jsx("div",{onClick:()=>v(r.url),className:`rounded-md cursor-pointer overflow-hidden ${a===r.url?"border border-darkmode-border dark:border-yellow-500":"border border-border dark:border-border/40"}`,children:b.jsx("img",{src:r.url,alt:r.altText,width:168,height:146,className:"max-h-[146px]"})})},r.url))})]})};export{gt as default};

import{j}from"./jsx-runtime.D_zvdyIk.js";import{a as K,e as Y}from"./js.cookie.C0BS3qSL.js";import{a as rr,g as er,r as q}from"./index.2yJIXLcc.js";import{r as tr}from"./index.Chjiymov.js";import{c as nr}from"./index.BlACm4Ui.js";import"./iconBase.Blz05Vck.js";var E={exports:{}},T={exports:{}},D;function ar(){return D||(D=1,function(){var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h={rotl:function(o,c){return o<<c|o>>>32-c},rotr:function(o,c){return o<<32-c|o>>>c},endian:function(o){if(o.constructor==Number)return h.rotl(o,8)&16711935|h.rotl(o,24)&4278255360;for(var c=0;c<o.length;c++)o[c]=h.endian(o[c]);return o},randomBytes:function(o){for(var c=[];o>0;o--)c.push(Math.floor(Math.random()*256));return c},bytesToWords:function(o){for(var c=[],f=0,l=0;f<o.length;f++,l+=8)c[l>>>5]|=o[f]<<24-l%32;return c},wordsToBytes:function(o){for(var c=[],f=0;f<o.length*32;f+=8)c.push(o[f>>>5]>>>24-f%32&255);return c},bytesToHex:function(o){for(var c=[],f=0;f<o.length;f++)c.push((o[f]>>>4).toString(16)),c.push((o[f]&15).toString(16));return c.join("")},hexToBytes:function(o){for(var c=[],f=0;f<o.length;f+=2)c.push(parseInt(o.substr(f,2),16));return c},bytesToBase64:function(o){for(var c=[],f=0;f<o.length;f+=3)for(var l=o[f]<<16|o[f+1]<<8|o[f+2],u=0;u<4;u++)f*8+u*6<=o.length*8?c.push(p.charAt(l>>>6*(3-u)&63)):c.push("=");return c.join("")},base64ToBytes:function(o){o=o.replace(/[^A-Z0-9+\/]/ig,"");for(var c=[],f=0,l=0;f<o.length;l=++f%4)l!=0&&c.push((p.indexOf(o.charAt(f-1))&Math.pow(2,-2*l+8)-1)<<l*2|p.indexOf(o.charAt(f))>>>6-l*2);return c}};T.exports=h}()),T.exports}var B,G;function M(){if(G)return B;G=1;var p={utf8:{stringToBytes:function(h){return p.bin.stringToBytes(unescape(encodeURIComponent(h)))},bytesToString:function(h){return decodeURIComponent(escape(p.bin.bytesToString(h)))}},bin:{stringToBytes:function(h){for(var o=[],c=0;c<h.length;c++)o.push(h.charCodeAt(c)&255);return o},bytesToString:function(h){for(var o=[],c=0;c<h.length;c++)o.push(String.fromCharCode(h[c]));return o.join("")}}};return B=p,B}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var A,L;function ir(){if(L)return A;L=1,A=function(o){return o!=null&&(p(o)||h(o)||!!o._isBuffer)};function p(o){return!!o.constructor&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}function h(o){return typeof o.readFloatLE=="function"&&typeof o.slice=="function"&&p(o.slice(0,0))}return A}var $;function or(){return $||($=1,function(){var p=ar(),h=M().utf8,o=ir(),c=M().bin,f=function(l,u){l.constructor==String?u&&u.encoding==="binary"?l=c.stringToBytes(l):l=h.stringToBytes(l):o(l)?l=Array.prototype.slice.call(l,0):!Array.isArray(l)&&l.constructor!==Uint8Array&&(l=l.toString());for(var e=p.bytesToWords(l),s=l.length*8,t=1732584193,r=-271733879,a=-1732584194,n=271733878,i=0;i<e.length;i++)e[i]=(e[i]<<8|e[i]>>>24)&16711935|(e[i]<<24|e[i]>>>8)&4278255360;e[s>>>5]|=128<<s%32,e[(s+64>>>9<<4)+14]=s;for(var x=f._ff,y=f._gg,w=f._hh,m=f._ii,i=0;i<e.length;i+=16){var v=t,d=r,b=a,g=n;t=x(t,r,a,n,e[i+0],7,-680876936),n=x(n,t,r,a,e[i+1],12,-389564586),a=x(a,n,t,r,e[i+2],17,606105819),r=x(r,a,n,t,e[i+3],22,-1044525330),t=x(t,r,a,n,e[i+4],7,-176418897),n=x(n,t,r,a,e[i+5],12,1200080426),a=x(a,n,t,r,e[i+6],17,-1473231341),r=x(r,a,n,t,e[i+7],22,-45705983),t=x(t,r,a,n,e[i+8],7,1770035416),n=x(n,t,r,a,e[i+9],12,-1958414417),a=x(a,n,t,r,e[i+10],17,-42063),r=x(r,a,n,t,e[i+11],22,-1990404162),t=x(t,r,a,n,e[i+12],7,1804603682),n=x(n,t,r,a,e[i+13],12,-40341101),a=x(a,n,t,r,e[i+14],17,-1502002290),r=x(r,a,n,t,e[i+15],22,1236535329),t=y(t,r,a,n,e[i+1],5,-165796510),n=y(n,t,r,a,e[i+6],9,-1069501632),a=y(a,n,t,r,e[i+11],14,643717713),r=y(r,a,n,t,e[i+0],20,-373897302),t=y(t,r,a,n,e[i+5],5,-701558691),n=y(n,t,r,a,e[i+10],9,38016083),a=y(a,n,t,r,e[i+15],14,-660478335),r=y(r,a,n,t,e[i+4],20,-405537848),t=y(t,r,a,n,e[i+9],5,568446438),n=y(n,t,r,a,e[i+14],9,-1019803690),a=y(a,n,t,r,e[i+3],14,-187363961),r=y(r,a,n,t,e[i+8],20,1163531501),t=y(t,r,a,n,e[i+13],5,-1444681467),n=y(n,t,r,a,e[i+2],9,-51403784),a=y(a,n,t,r,e[i+7],14,1735328473),r=y(r,a,n,t,e[i+12],20,-1926607734),t=w(t,r,a,n,e[i+5],4,-378558),n=w(n,t,r,a,e[i+8],11,-2022574463),a=w(a,n,t,r,e[i+11],16,1839030562),r=w(r,a,n,t,e[i+14],23,-35309556),t=w(t,r,a,n,e[i+1],4,-1530992060),n=w(n,t,r,a,e[i+4],11,1272893353),a=w(a,n,t,r,e[i+7],16,-155497632),r=w(r,a,n,t,e[i+10],23,-1094730640),t=w(t,r,a,n,e[i+13],4,681279174),n=w(n,t,r,a,e[i+0],11,-358537222),a=w(a,n,t,r,e[i+3],16,-722521979),r=w(r,a,n,t,e[i+6],23,76029189),t=w(t,r,a,n,e[i+9],4,-640364487),n=w(n,t,r,a,e[i+12],11,-421815835),a=w(a,n,t,r,e[i+15],16,530742520),r=w(r,a,n,t,e[i+2],23,-995338651),t=m(t,r,a,n,e[i+0],6,-198630844),n=m(n,t,r,a,e[i+7],10,1126891415),a=m(a,n,t,r,e[i+14],15,-1416354905),r=m(r,a,n,t,e[i+5],21,-57434055),t=m(t,r,a,n,e[i+12],6,1700485571),n=m(n,t,r,a,e[i+3],10,-1894986606),a=m(a,n,t,r,e[i+10],15,-1051523),r=m(r,a,n,t,e[i+1],21,-2054922799),t=m(t,r,a,n,e[i+8],6,1873313359),n=m(n,t,r,a,e[i+15],10,-30611744),a=m(a,n,t,r,e[i+6],15,-1560198380),r=m(r,a,n,t,e[i+13],21,1309151649),t=m(t,r,a,n,e[i+4],6,-145523070),n=m(n,t,r,a,e[i+11],10,-1120210379),a=m(a,n,t,r,e[i+2],15,718787259),r=m(r,a,n,t,e[i+9],21,-343485551),t=t+v>>>0,r=r+d>>>0,a=a+b>>>0,n=n+g>>>0}return p.endian([t,r,a,n])};f._ff=function(l,u,e,s,t,r,a){var n=l+(u&e|~u&s)+(t>>>0)+a;return(n<<r|n>>>32-r)+u},f._gg=function(l,u,e,s,t,r,a){var n=l+(u&s|e&~s)+(t>>>0)+a;return(n<<r|n>>>32-r)+u},f._hh=function(l,u,e,s,t,r,a){var n=l+(u^e^s)+(t>>>0)+a;return(n<<r|n>>>32-r)+u},f._ii=function(l,u,e,s,t,r,a){var n=l+(e^(u|~s))+(t>>>0)+a;return(n<<r|n>>>32-r)+u},f._blocksize=16,f._digestsize=16,E.exports=function(l,u){if(l==null)throw new Error("Illegal argument "+l);var e=p.wordsToBytes(f(l,u));return u&&u.asBytes?e:u&&u.asString?c.bytesToString(e):p.bytesToHex(e)}}()),E.exports}var F={},I,H;function ur(){return H||(H=1,I=function(p){return encodeURIComponent(p).replace(/[!'()*]/g,function(h){return"%"+h.charCodeAt(0).toString(16).toUpperCase()})}),I}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var U,Q;function fr(){if(Q)return U;Q=1;var p=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function c(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function f(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var u={},e=0;e<10;e++)u["_"+String.fromCharCode(e)]=e;var s=Object.getOwnPropertyNames(u).map(function(r){return u[r]});if(s.join("")!=="0123456789")return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach(function(r){t[r]=r}),Object.keys(Object.assign({},t)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return U=f()?Object.assign:function(l,u){for(var e,s=c(l),t,r=1;r<arguments.length;r++){e=Object(arguments[r]);for(var a in e)h.call(e,a)&&(s[a]=e[a]);if(p){t=p(e);for(var n=0;n<t.length;n++)o.call(e,t[n])&&(s[t[n]]=e[t[n]])}}return s},U}var W;function sr(){if(W)return F;W=1;var p=ur(),h=fr();function o(u){switch(u.arrayFormat){case"index":return function(e,s,t){return s===null?[f(e,u),"[",t,"]"].join(""):[f(e,u),"[",f(t,u),"]=",f(s,u)].join("")};case"bracket":return function(e,s){return s===null?f(e,u):[f(e,u),"[]=",f(s,u)].join("")};default:return function(e,s){return s===null?f(e,u):[f(e,u),"=",f(s,u)].join("")}}}function c(u){var e;switch(u.arrayFormat){case"index":return function(s,t,r){if(e=/\[(\d*)\]$/.exec(s),s=s.replace(/\[\d*\]$/,""),!e){r[s]=t;return}r[s]===void 0&&(r[s]={}),r[s][e[1]]=t};case"bracket":return function(s,t,r){if(e=/(\[\])$/.exec(s),s=s.replace(/\[\]$/,""),e){if(r[s]===void 0){r[s]=[t];return}}else{r[s]=t;return}r[s]=[].concat(r[s],t)};default:return function(s,t,r){if(r[s]===void 0){r[s]=t;return}r[s]=[].concat(r[s],t)}}}function f(u,e){return e.encode?e.strict?p(u):encodeURIComponent(u):u}function l(u){return Array.isArray(u)?u.sort():typeof u=="object"?l(Object.keys(u)).sort(function(e,s){return Number(e)-Number(s)}).map(function(e){return u[e]}):u}return F.extract=function(u){return u.split("?")[1]||""},F.parse=function(u,e){e=h({arrayFormat:"none"},e);var s=c(e),t=Object.create(null);return typeof u!="string"||(u=u.trim().replace(/^(\?|#|&)/,""),!u)?t:(u.split("&").forEach(function(r){var a=r.replace(/\+/g," ").split("="),n=a.shift(),i=a.length>0?a.join("="):void 0;i=i===void 0?null:decodeURIComponent(i),s(decodeURIComponent(n),i,t)}),Object.keys(t).sort().reduce(function(r,a){var n=t[a];return n&&typeof n=="object"&&!Array.isArray(n)?r[a]=l(n):r[a]=n,r},Object.create(null)))},F.stringify=function(u,e){var s={encode:!0,strict:!0,arrayFormat:"none"};e=h(s,e);var t=o(e);return u?Object.keys(u).sort().map(function(r){var a=u[r];if(a===void 0)return"";if(a===null)return f(r,e);if(Array.isArray(a)){var n=[];return a.slice().forEach(function(i){i!==void 0&&n.push(t(r,i,n.length))}),n.join("&")}return f(r,e)+"="+f(a,e)}).filter(function(r){return r.length>0}).join("&"):""},F}var C,Z;function cr(){return Z||(Z=1,C=function(){var p;return!!(typeof window<"u"&&window!==null&&(p="(-webkit-min-device-pixel-ratio: 1.25), (min--moz-device-pixel-ratio: 1.25), (-o-min-device-pixel-ratio: 5/4), (min-resolution: 1.25dppx)",window.devicePixelRatio>1.25||window.matchMedia&&window.matchMedia(p).matches))}),C}var P,J;function lr(){if(J)return P;J=1;var p=Object.assign||function(v){for(var d=1;d<arguments.length;d++){var b=arguments[d];for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(v[g]=b[g])}return v},h=function(){function v(d,b){for(var g=0;g<b.length;g++){var _=b[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(d,_.key,_)}}return function(d,b,g){return b&&v(d.prototype,b),g&&v(d,g),d}}(),o=rr(),c=n(o),f=or(),l=n(f),u=sr(),e=n(u),s=cr(),t=n(s),r=tr(),a=n(r);function n(v){return v&&v.__esModule?v:{default:v}}function i(v,d){var b={};for(var g in v)d.indexOf(g)>=0||Object.prototype.hasOwnProperty.call(v,g)&&(b[g]=v[g]);return b}function x(v,d){if(!(v instanceof d))throw new TypeError("Cannot call a class as a function")}function y(v,d){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:v}function w(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);v.prototype=Object.create(d&&d.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(v,d):v.__proto__=d)}var m=function(v){w(d,v);function d(){return x(this,d),y(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return h(d,[{key:"render",value:function(){var g=this.props.protocol+"www.gravatar.com/avatar/",_=e.default.stringify({s:this.props.size,r:this.props.rating,d:this.props.default}),V=e.default.stringify({s:this.props.size*2,r:this.props.rating,d:this.props.default}),N=(""+this.props.email).trim().toLowerCase(),S=void 0;if(this.props.md5)S=this.props.md5;else if(typeof this.props.email=="string")S=(0,l.default)(N,{encoding:"binary"});else return console.warn('Gravatar image can not be fetched. Either the "email" or "md5" prop must be specified.'),c.default.createElement("script",null);var X=""+g+S+"?"+_,z=""+g+S+"?"+V,k=!0;typeof window<"u"&&(k="srcset"in document.createElement("img"));var R="react-gravatar";this.props.className&&(R=R+" "+this.props.className);var O=i(this.props,[]);return delete O.md5,delete O.email,delete O.protocol,delete O.rating,delete O.size,delete O.style,delete O.className,delete O.default,!k&&(0,t.default)()?c.default.createElement("img",p({alt:"Gravatar for "+N,style:this.props.style,src:z,height:this.props.size,width:this.props.size},O,{className:R})):c.default.createElement("img",p({alt:"Gravatar for "+N,style:this.props.style,src:X,srcSet:z+" 2x",height:this.props.size,width:this.props.size},O,{className:R}))}}]),d}(c.default.Component);return m.displayName="Gravatar",m.propTypes={email:a.default.string,md5:a.default.string,size:a.default.number,rating:a.default.string,default:a.default.string,className:a.default.string,protocol:a.default.string,style:a.default.object},m.defaultProps={size:50,rating:"g",default:"retro",protocol:"//"},P=m,P}var dr=lr();const pr=er(dr),hr=async()=>{try{const p=K.get("token");return p?(await Y(p)).customer:null}catch{return null}},br=({pathname:p})=>{const[h,o]=q.useState(),[c,f]=q.useState(!1);q.useEffect(()=>{(async()=>{const s=await hr();o(s)})()},[p]);const l=()=>{K.remove("token"),localStorage.removeItem("user"),o(null)},u=()=>{f(!c)};return j.jsxs("div",{className:"relative",children:[h?j.jsx("button",{onClick:u,className:"relative cursor-pointer text-left sm:text-xs flex items-center justify-center",children:j.jsxs("div",{className:"flex items-center gap-x-1",children:[j.jsx("div",{className:"h-6 w-6 border border-darkmode-border dark:border-border rounded-full",children:j.jsx(pr,{email:h?.email,style:{borderRadius:"50px"}})}),j.jsx("div",{className:"leading-none max-md:hidden",children:j.jsxs("div",{className:"flex items-center",children:[j.jsx("p",{className:"block text-text-dark dark:text-darkmode-text-dark text-base truncate",children:h?.firstName}),j.jsx("svg",{className:"w-5 text-text-dark dark:text-darkmode-text-dark dark:hover:text-darkmode-text-primary",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:j.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]})})]})}):j.jsx("a",{className:"text-xl text-text-dark hover:text-text-primary dark:border-darkmode-border dark:text-white flex items-center",href:"/login","aria-label":"login",children:j.jsx(nr,{className:"dark:hover:text-darkmode-primary"})}),c&&j.jsx("div",{className:"z-20 text-center absolute w-full bg-white shadow-md rounded mt-2",children:j.jsx("button",{onClick:l,className:"btn btn-primary max-md:btn-sm mt-2",children:"Logout"})})]})};export{br as default};
